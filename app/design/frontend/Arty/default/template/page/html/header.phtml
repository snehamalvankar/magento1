<?php
/**
 * Magento
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Academic Free License (AFL 3.0)
 * that is bundled with this package in the file LICENSE_AFL.txt.
 * It is also available through the world-wide-web at this URL:
 * http://opensource.org/licenses/afl-3.0.php
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@magento.com so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade Magento to newer
 * versions in the future. If you wish to customize Magento for your
 * needs please refer to http://www.magento.com for more information.
 *
 * @category    design
 * @package     base_default
 * @copyright   Copyright (c) 2006-2014 X.commerce, Inc. (http://www.magento.com)
 * @license     http://opensource.org/licenses/afl-3.0.php  Academic Free License (AFL 3.0)
 */
/**
 * @var Mage_Page_Block_Html_Header $this
 */
?>

<!-- Top Bar -->


<div id="topbar page-header">
    <div class="container  page-header-container">
        <div class="row topmenu">
            <div class="col-md-4 pull-right">
                <?php echo $this->getChildHtml('topbar_cmslinks') ?>
                <ul class="list-inline float">
                    <?php if ($this->helper('customer')->isLoggedIn()): ?>
                        <li>
                            <a title="<?php echo $this->__('My Account') ?>"
                               href="<?php echo Mage::getUrl('customer/account') ?>">   <?php echo $this->__('My Account') ?>     </a>
                        </li>
                        <li>
                            <a title="Log Out"
                               href="<?php echo Mage::getUrl('customer/account/logout') ?>">     <?php echo $this->__('Logout') ?></a>
                        </li>
                    <?php else: ?>

                        <li>
                            <?php echo $this->getChildHtml('customer_form_register') ?>
                        </li>

                        <li>
                            <?php echo $this->getChildHtml('header_customer_form_mini_login') ?>

                        </li>


                    <?php endif; ?>
                </ul>
            </div>
            <div class="user-links col-md-8">
	  	  	           	  <span class="welcome pull-left">
	  	  	           	  	   <!--<?php echo $this->getLayout()->getBlock('header')->getWelcome() ?>-->
	  	  	           	 </span>
            </div>
        </div>


        <div class="row page-header " style="border: solid " id="headerNav">
            <div class="row " style="border: solid" >
                <div class="col-lg-3 col-md-3 col-sm-4 col-xs-11  page-header-container "
                     id="logoId"
                     style="border: solid yellowgreen">

                    <?php if ($this->getIsHomePage()): ?>

                        <a href="<?php echo $this->getUrl('') ?>" title="<?php echo $this->getLogoAlt() ?>"
                           class="">
                            <img src="<?php echo $this->getLogoSrc() ?>" alt="<?php echo $this->getLogoAlt() ?>"
                                 class="img img-responsive "/></a>
                    <?php else: ?>
                        <a href="<?php echo $this->getUrl('') ?>" title="<?php echo $this->getLogoAlt() ?>"
                           class="logo"><img src="<?php echo $this->getLogoSrc() ?>"
                                             alt="<?php echo $this->getLogoAlt() ?>"/></a>
                    <?php endif ?>

                </div>

                <div class="col-lg-offset-3  col-lg-4 col-md-offset-3 col-md-4 col-sm-offset-2 col-sm-4 col-xs-12 vbottom page-header-container "
                     id="searchId"
                     style="border: solid yellow" id="searchbx">
                    <div>
                        <?php echo $this->getChildHtml('topSearch') ?>
                    </div>
                </div>

                <div class="col-lg-1 col-md-1 col-sm-1 col-xs-12 vbottom float page-header-container"
                     id="cartId"
                     style="border:solid greenyellow">

                    <div>
                        <!-- cart sneha -->
                        <div id="cart" class="header-minicart" style="display: inline-block;">
                            <?php echo $this->getChildHtml('minicart_head'); ?>
                        </div>
                        <!-- cart sneha -->
                        <div class="block">
                            <?php echo $this->getChildHtml('cart_sidebar'); ?>
                        </div>
                    </div>
                </div>
            </div>

            <div class="smallheader float page-header-container" id="nav">
                <nav class="navbar navbar-default nav-justified" role="navigation">
                    <div class="navbar-header">
                        <a class="navbar-brand visible-xs" href="#"> <?php echo $this->__('Categories') ?></a>
                        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#collapse">
                            <span class="sr-only"><?php echo $this->__('Toggle Navigation') ?></ span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span> <span class="icon-bar"></span></button>
                    </div>
                    <div class="collapse navbar-collapse" id="collapse">
                        <?php echo $this->getChildHtml('topMenu') ?>
                    </div>
                </nav>
            </div>
        </div>


    </div>

    <?php echo $this->getChildHtml('topContainer'); ?>


    <script>
        jQuery(document).ready(function () {
            var hdNv = jQuery('#headerNav');
            hdNv.addClass('default');
            var pos = hdNv.offset();
            jQuery(window).scroll(function () {
                onscroll();
            });

            function onscroll() {


                if (jQuery(this).scrollTop() > pos.top && hdNv.hasClass('default')) {

                    hdNv.fadeOut(1, function () {
                        //  alert(jQuery(this).scrollTop());
                        jQuery(this).removeClass('default').addClass('fixed').show();
                        jQuery('#logoId').removeClass('default').addClass('LogoId').removeAttr('style').show();
                        jQuery('#searchId').removeClass('default').addClass('SearchId').removeAttr('style').show();
                        jQuery('#cartId').removeClass('default').addClass('CartId').removeAttr('style').show();
                        jQuery('#nav').removeClass('default').addClass('NavId').removeAttr('style').show();


                    });

                }
                else if (jQuery(this).scrollTop() <= pos.top && hdNv.hasClass('fixed')) {

                    hdNv.fadeOut(1, function () {

                        jQuery(this).removeClass('fixed').addClass('default').removeAttr('style').show();
                        jQuery('#logoId').removeClass('LogoId').addClass('default').removeAttr('style').show();
                        jQuery('#searchId').removeClass('SearchId').addClass('default').removeAttr('style').show();
                        jQuery('#cartId').removeClass('CartId').addClass('default').removeAttr('style').show();
                        jQuery('#nav').removeClass('NavId').addClass('default').removeAttr('style').show();


                        // jQuery('#smallheader').removeClass('fixed').addClass('no-display').show();


                    });

                }
                else {
                    //    alert(pos);
                }


            }

            onscroll();

        });

    </script>

